[gd_scene load_steps=15 format=2]

[ext_resource path="res://scripts/server_connection.gd" type="Script" id=1]
[ext_resource path="res://textures/Bigboy.ttf" type="DynamicFontData" id=2]
[ext_resource path="res://textures/server_connection/star.png" type="Texture" id=3]
[ext_resource path="res://textures/server_connection/back.png" type="Texture" id=4]
[ext_resource path="res://textures/done.png" type="Texture" id=5]
[ext_resource path="res://textures/done_hover.png" type="Texture" id=6]

[sub_resource type="Gradient" id=1]
offsets = PoolRealArray( 0, 0.150327, 0.196078, 0.856209 )
colors = PoolColorArray( 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=2]
gradient = SubResource( 1 )

[sub_resource type="ParticlesMaterial" id=3]
emission_shape = 2
emission_box_extents = Vector3( 640, 360, 1 )
flag_disable_z = true
direction = Vector3( 1, 1, 0 )
spread = 60.0
gravity = Vector3( 0, 0, 0 )
initial_velocity = 10.0
orbit_velocity = 0.0
orbit_velocity_random = 0.0
scale = 0.3
color_ramp = SubResource( 2 )

[sub_resource type="DynamicFont" id=4]
size = 30
outline_size = 3
use_filter = true
font_data = ExtResource( 2 )

[sub_resource type="DynamicFont" id=5]
size = 50
outline_size = 5
font_data = ExtResource( 2 )

[sub_resource type="DynamicFont" id=6]
size = 80
use_filter = true
font_data = ExtResource( 2 )

[sub_resource type="DynamicFont" id=7]
size = 31
font_data = ExtResource( 2 )

[sub_resource type="DynamicFont" id=8]
size = 50
outline_size = 4
use_filter = true
font_data = ExtResource( 2 )

[node name="server_connection" type="Node2D"]
script = ExtResource( 1 )

[node name="background" type="Node2D" parent="."]

[node name="back" type="Sprite" parent="background"]
position = Vector2( 640, 360 )
texture = ExtResource( 4 )

[node name="stars" type="Particles2D" parent="background"]
position = Vector2( 640, 360 )
amount = 200
lifetime = 3.0
process_material = SubResource( 3 )
texture = ExtResource( 3 )

[node name="connected_devices" type="Node2D" parent="."]
position = Vector2( 13.4543, 14.2952 )

[node name="phones" type="VBoxContainer" parent="connected_devices"]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="allowed_phones" type="VBoxContainer" parent="connected_devices/phones"]
visible = false
margin_right = 181.0
margin_bottom = 30.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="title" type="Label" parent="connected_devices/phones/allowed_phones"]
margin_right = 181.0
margin_bottom = 30.0
custom_fonts/font = SubResource( 4 )
custom_colors/font_color = Color( 0.129412, 0.607843, 0.882353, 1 )
text = "Paired devices:"
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="waiting_phones" type="VBoxContainer" parent="connected_devices/phones"]
margin_right = 171.0
margin_bottom = 30.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="title" type="Label" parent="connected_devices/phones/waiting_phones"]
margin_right = 171.0
margin_bottom = 30.0
custom_fonts/font = SubResource( 4 )
custom_colors/font_color = Color( 0.898039, 0.247059, 0.117647, 1 )
text = "Pair Requests:"
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="id" type="Node2D" parent="."]
visible = false

[node name="gameid_text" type="Label" parent="id"]
margin_left = 498.659
margin_top = 238.496
margin_right = 781.659
margin_bottom = 289.496
rect_pivot_offset = Vector2( 141.368, 25.5238 )
custom_fonts/font = SubResource( 5 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Game ID:"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="id_label" type="Label" parent="id"]
margin_left = 498.102
margin_top = 292.47
margin_right = 781.102
margin_bottom = 373.47
custom_fonts/font = SubResource( 6 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
text = "1234"
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="start" type="TextureButton" parent="id"]
margin_left = 583.632
margin_top = 376.021
margin_right = 754.632
margin_bottom = 504.021
rect_scale = Vector2( 0.651751, 0.651751 )
texture_normal = ExtResource( 5 )
texture_pressed = ExtResource( 5 )
texture_hover = ExtResource( 6 )
texture_disabled = ExtResource( 5 )
texture_focused = ExtResource( 5 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="status" type="Label" parent="id"]
visible = false
margin_left = 480.0
margin_top = 541.0
margin_right = 806.0
margin_bottom = 608.0
custom_fonts/font = SubResource( 7 )
custom_colors/font_color = Color( 0.972549, 0.164706, 0.164706, 1 )
text = "Cannot start game -
No devices are paired."
align = 1
valign = 1

[node name="HTTPRequest_start" type="HTTPRequest" parent="id"]

[node name="Node2D" type="Node2D" parent="id"]
position = Vector2( 640, 360 )

[node name="loading_label" type="Label" parent="."]
margin_left = 516.0
margin_top = 335.0
margin_right = 765.0
margin_bottom = 386.0
custom_fonts/font = SubResource( 8 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
text = "Connecting..."
align = 1
valign = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="HTTPRequest" type="HTTPRequest" parent="."]
__meta__ = {
"_editor_description_": ""
}

[connection signal="pressed" from="id/start" to="." method="_on_start_pressed"]
[connection signal="request_completed" from="id/HTTPRequest_start" to="." method="_on_start_request_completed"]
